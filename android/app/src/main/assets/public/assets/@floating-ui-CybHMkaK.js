import{r as d,R as vn}from"./react-DHBI0EtI.js";import{r as bn}from"./react-dom-B4HDzmPo.js";import{t as ft,i as $n}from"./tabbable-DNPBiPWX.js";function Fe(e){return yn(e)?(e.nodeName||"").toLowerCase():"#document"}function ie(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function we(e){var t;return(t=(yn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yn(e){return e instanceof Node||e instanceof ie(e).Node}function Y(e){return e instanceof Element||e instanceof ie(e).Element}function te(e){return e instanceof HTMLElement||e instanceof ie(e).HTMLElement}function It(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ie(e).ShadowRoot}function Xe(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Hn(e){return["table","td","th"].includes(Fe(e))}function Mt(e){const t=At(),n=ce(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jn(e){let t=be(e);for(;te(t)&&!Ce(t);){if(Mt(t))return t;t=be(t)}return null}function At(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ce(e){return["html","body","#document"].includes(Fe(e))}function ce(e){return ie(e).getComputedStyle(e)}function dt(e){return Y(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function be(e){if(Fe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||It(e)&&e.host||we(e);return It(t)?t.host:t}function wn(e){const t=be(e);return Ce(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&Xe(t)?t:wn(t)}function Oe(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=wn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ie(o);return i?t.concat(s,s.visualViewport||[],Xe(o)?o:[],s.frameElement&&n?Oe(s.frameElement):[]):t.concat(o,Oe(o,[],n))}function me(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&It(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Lt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function xn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function En(e){return e.mozInputSource===0&&e.isTrusted?!0:Pt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function St(e){return zn()?!1:!Pt()&&e.width===0&&e.height===0||Pt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Dt(){return/apple/i.test(navigator.vendor)}function Pt(){const e=/android/i;return e.test(Lt())||e.test(xn())}function Rn(){return Lt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function zn(){return xn().includes("jsdom/")}function ot(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function qn(e){return"nativeEvent"in e}function Yn(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function vt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Te(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Xn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ft(e){return te(e)&&e.matches(Xn)}function ee(e){e.preventDefault(),e.stopPropagation()}function Tn(e){return e?e.getAttribute("role")==="combobox"&&Ft(e):!1}const Un=["top","right","bottom","left"],jt=["start","end"],zt=Un.reduce((e,t)=>e.concat(t,t+"-"+jt[0],t+"-"+jt[1]),[]),Ke=Math.min,Ae=Math.max,it=Math.round,_e=Math.floor,Ie=e=>({x:e,y:e}),Gn={left:"right",right:"left",bottom:"top",top:"bottom"},Jn={start:"end",end:"start"};function kt(e,t,n){return Ae(e,Ke(t,n))}function Ve(e,t){return typeof e=="function"?e(t):e}function ye(e){return e.split("-")[0]}function ge(e){return e.split("-")[1]}function On(e){return e==="x"?"y":"x"}function Nt(e){return e==="y"?"height":"width"}function mt(e){return["top","bottom"].includes(ye(e))?"y":"x"}function _t(e){return On(mt(e))}function Cn(e,t,n){n===void 0&&(n=!1);const r=ge(e),o=_t(e),i=Nt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ct(s)),[s,ct(s)]}function Qn(e){const t=ct(e);return[st(e),t,st(t)]}function st(e){return e.replace(/start|end/g,t=>Jn[t])}function Zn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function er(e,t,n,r){const o=ge(e);let i=Zn(ye(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(st)))),i}function ct(e){return e.replace(/left|right|bottom|top/g,t=>Gn[t])}function tr(e){return{top:0,right:0,bottom:0,left:0,...e}}function In(e){return typeof e!="number"?tr(e):{top:e,right:e,bottom:e,left:e}}function lt(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function qt(e,t,n){let{reference:r,floating:o}=e;const i=mt(t),s=_t(t),c=Nt(s),u=ye(t),l=i==="y",p=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,m=r[c]/2-o[c]/2;let a;switch(u){case"top":a={x:p,y:r.y-o.height};break;case"bottom":a={x:p,y:r.y+r.height};break;case"right":a={x:r.x+r.width,y:f};break;case"left":a={x:r.x-o.width,y:f};break;default:a={x:r.x,y:r.y}}switch(ge(t)){case"start":a[s]-=m*(n&&l?-1:1);break;case"end":a[s]+=m*(n&&l?-1:1);break}return a}const nr=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:f}=qt(l,r,u),m=r,a={},g=0;for(let v=0;v<c.length;v++){const{name:E,fn:w}=c[v],{x:y,y:M,data:k,reset:x}=await w({x:p,y:f,initialPlacement:r,placement:m,strategy:o,middlewareData:a,rects:l,platform:s,elements:{reference:e,floating:t}});p=y??p,f=M??f,a={...a,[E]:{...a[E],...k}},x&&g<=50&&(g++,typeof x=="object"&&(x.placement&&(m=x.placement),x.rects&&(l=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:p,y:f}=qt(l,m,u)),v=-1)}return{x:p,y:f,placement:m,strategy:o,middlewareData:a}};async function Bt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:m=!1,padding:a=0}=Ve(t,e),g=In(a),E=c[m?f==="floating"?"reference":"floating":f],w=lt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:p,strategy:u})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(M))?await(i.getScale==null?void 0:i.getScale(M))||{x:1,y:1}:{x:1,y:1},x=lt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:M,strategy:u}):y);return{top:(w.top-x.top+g.top)/k.y,bottom:(x.bottom-w.bottom+g.bottom)/k.y,left:(w.left-x.left+g.left)/k.x,right:(x.right-w.right+g.right)/k.x}}const rr=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:u}=t,{element:l,padding:p=0}=Ve(e,t)||{};if(l==null)return{};const f=In(p),m={x:n,y:r},a=_t(o),g=Nt(a),v=await s.getDimensions(l),E=a==="y",w=E?"top":"left",y=E?"bottom":"right",M=E?"clientHeight":"clientWidth",k=i.reference[g]+i.reference[a]-m[a]-i.floating[g],x=m[a]-i.reference[a],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let _=P?P[M]:0;(!_||!await(s.isElement==null?void 0:s.isElement(P)))&&(_=c.floating[M]||i.floating[g]);const V=k/2-x/2,L=_/2-v[g]/2-1,O=Ke(f[w],L),N=Ke(f[y],L),A=O,T=_-v[g]-N,b=_/2-v[g]/2+V,h=kt(A,b,T),I=!u.arrow&&ge(o)!=null&&b!==h&&i.reference[g]/2-(b<A?O:N)-v[g]/2<0,R=I?b<A?b-A:b-T:0;return{[a]:m[a]+R,data:{[a]:h,centerOffset:b-h-R,...I&&{alignmentOffset:R}},reset:I}}});function or(e,t,n){return(e?[...n.filter(o=>ge(o)===e),...n.filter(o=>ge(o)!==e)]:n.filter(o=>ye(o)===o)).filter(o=>e?ge(o)===e||(t?st(o)!==o:!1):!0)}const ir=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:c,platform:u,elements:l}=t,{crossAxis:p=!1,alignment:f,allowedPlacements:m=zt,autoAlignment:a=!0,...g}=Ve(e,t),v=f!==void 0||m===zt?or(f||null,a,m):m,E=await Bt(t,g),w=((n=s.autoPlacement)==null?void 0:n.index)||0,y=v[w];if(y==null)return{};const M=Cn(y,i,await(u.isRTL==null?void 0:u.isRTL(l.floating)));if(c!==y)return{reset:{placement:v[0]}};const k=[E[ye(y)],E[M[0]],E[M[1]]],x=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:y,overflows:k}],P=v[w+1];if(P)return{data:{index:w+1,overflows:x},reset:{placement:P}};const _=x.map(O=>{const N=ge(O.placement);return[O.placement,N&&p?O.overflows.slice(0,2).reduce((A,T)=>A+T,0):O.overflows[0],O.overflows]}).sort((O,N)=>O[1]-N[1]),L=((o=_.filter(O=>O[2].slice(0,ge(O[0])?2:3).every(N=>N<=0))[0])==null?void 0:o[0])||_[0][0];return L!==c?{data:{index:w+1,overflows:x},reset:{placement:L}}:{}}}},sr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:l}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...E}=Ve(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=ye(o),y=ye(c)===c,M=await(u.isRTL==null?void 0:u.isRTL(l.floating)),k=m||(y||!v?[ct(c)]:Qn(c));!m&&g!=="none"&&k.push(...er(c,v,g,M));const x=[c,...k],P=await Bt(t,E),_=[];let V=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&_.push(P[w]),f){const A=Cn(o,s,M);_.push(P[A[0]],P[A[1]])}if(V=[...V,{placement:o,overflows:_}],!_.every(A=>A<=0)){var L,O;const A=(((L=i.flip)==null?void 0:L.index)||0)+1,T=x[A];if(T)return{data:{index:A,overflows:V},reset:{placement:T}};let b=(O=V.filter(h=>h.overflows[0]<=0).sort((h,I)=>h.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!b)switch(a){case"bestFit":{var N;const h=(N=V.map(I=>[I.placement,I.overflows.filter(R=>R>0).reduce((R,C)=>R+C,0)]).sort((I,R)=>I[1]-R[1])[0])==null?void 0:N[0];h&&(b=h);break}case"initialPlacement":b=c;break}if(o!==b)return{reset:{placement:b}}}return{}}}};async function cr(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=ye(n),c=ge(n),u=mt(n)==="y",l=["left","top"].includes(s)?-1:1,p=i&&u?-1:1,f=Ve(t,e);let{mainAxis:m,crossAxis:a,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof g=="number"&&(a=c==="end"?g*-1:g),u?{x:a*p,y:m*l}:{x:m*l,y:a*p}}const lr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,u=await cr(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},ur=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:E=>{let{x:w,y}=E;return{x:w,y}}},...u}=Ve(e,t),l={x:n,y:r},p=await Bt(t,u),f=mt(ye(o)),m=On(f);let a=l[m],g=l[f];if(i){const E=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=a+p[E],M=a-p[w];a=kt(y,a,M)}if(s){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=g+p[E],M=g-p[w];g=kt(y,g,M)}const v=c.fn({...t,[m]:a,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function Pn(e){const t=ce(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=te(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=it(n)!==i||it(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Kt(e){return Y(e)?e:e.contextElement}function Be(e){const t=Kt(e);if(!te(t))return Ie(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Pn(t);let s=(i?it(n.width):n.width)/r,c=(i?it(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const ar=Ie(0);function kn(e){const t=ie(e);return!At()||!t.visualViewport?ar:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ie(e)?!1:t}function Se(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Kt(e);let s=Ie(1);t&&(r?Y(r)&&(s=Be(r)):s=Be(e));const c=fr(i,n,r)?kn(i):Ie(0);let u=(o.left+c.x)/s.x,l=(o.top+c.y)/s.y,p=o.width/s.x,f=o.height/s.y;if(i){const m=ie(i),a=r&&Y(r)?ie(r):r;let g=m,v=g.frameElement;for(;v&&r&&a!==g;){const E=Be(v),w=v.getBoundingClientRect(),y=ce(v),M=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,k=w.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,l*=E.y,p*=E.x,f*=E.y,u+=M,l+=k,g=ie(v),v=g.frameElement}}return lt({width:p,height:f,x:u,y:l})}const dr=[":popover-open",":modal"];function Wt(e){return dr.some(t=>{try{return e.matches(t)}catch{return!1}})}function mr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=we(r),c=t?Wt(t.floating):!1;if(r===s||c&&i)return n;let u={scrollLeft:0,scrollTop:0},l=Ie(1);const p=Ie(0),f=te(r);if((f||!f&&!i)&&((Fe(r)!=="body"||Xe(s))&&(u=dt(r)),te(r))){const m=Se(r);l=Be(r),p.x=m.x+r.clientLeft,p.y=m.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+p.x,y:n.y*l.y-u.scrollTop*l.y+p.y}}function pr(e){return Array.from(e.getClientRects())}function Mn(e){return Se(we(e)).left+dt(e).scrollLeft}function gr(e){const t=we(e),n=dt(e),r=e.ownerDocument.body,o=Ae(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ae(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Mn(e);const c=-n.scrollTop;return ce(r).direction==="rtl"&&(s+=Ae(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function hr(e,t){const n=ie(e),r=we(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const l=At();(!l||l&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:c,y:u}}function vr(e,t){const n=Se(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=te(e)?Be(e):Ie(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,l=r*i.y;return{width:s,height:c,x:u,y:l}}function Yt(e,t,n){let r;if(t==="viewport")r=hr(e,n);else if(t==="document")r=gr(we(e));else if(Y(t))r=vr(t,n);else{const o=kn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return lt(r)}function An(e,t){const n=be(e);return n===t||!Y(n)||Ce(n)?!1:ce(n).position==="fixed"||An(n,t)}function br(e,t){const n=t.get(e);if(n)return n;let r=Oe(e,[],!1).filter(c=>Y(c)&&Fe(c)!=="body"),o=null;const i=ce(e).position==="fixed";let s=i?be(e):e;for(;Y(s)&&!Ce(s);){const c=ce(s),u=Mt(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Xe(s)&&!u&&An(e,s))?r=r.filter(p=>p!==s):o=c,s=be(s)}return t.set(e,r),r}function yr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Wt(t)?[]:br(t,this._c):[].concat(n),r],c=s[0],u=s.reduce((l,p)=>{const f=Yt(t,p,o);return l.top=Ae(f.top,l.top),l.right=Ke(f.right,l.right),l.bottom=Ke(f.bottom,l.bottom),l.left=Ae(f.left,l.left),l},Yt(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wr(e){const{width:t,height:n}=Pn(e);return{width:t,height:n}}function xr(e,t,n){const r=te(t),o=we(t),i=n==="fixed",s=Se(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=Ie(0);if(r||!r&&!i)if((Fe(t)!=="body"||Xe(o))&&(c=dt(t)),r){const f=Se(t,!0,i,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else o&&(u.x=Mn(o));const l=s.left+c.scrollLeft-u.x,p=s.top+c.scrollTop-u.y;return{x:l,y:p,width:s.width,height:s.height}}function bt(e){return ce(e).position==="static"}function Xt(e,t){return!te(e)||ce(e).position==="fixed"?null:t?t(e):e.offsetParent}function Ln(e,t){const n=ie(e);if(Wt(e))return n;if(!te(e)){let o=be(e);for(;o&&!Ce(o);){if(Y(o)&&!bt(o))return o;o=be(o)}return n}let r=Xt(e,t);for(;r&&Hn(r)&&bt(r);)r=Xt(r,t);return r&&Ce(r)&&bt(r)&&!Mt(r)?n:r||jn(e)||n}const Er=async function(e){const t=this.getOffsetParent||Ln,n=this.getDimensions,r=await n(e.floating);return{reference:xr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rr(e){return ce(e).direction==="rtl"}const Tr={convertOffsetParentRelativeRectToViewportRelativeRect:mr,getDocumentElement:we,getClippingRect:yr,getOffsetParent:Ln,getElementRects:Er,getClientRects:pr,getDimensions:wr,getScale:Be,isElement:Y,isRTL:Rr};function Or(e,t){let n=null,r;const o=we(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const{left:l,top:p,width:f,height:m}=e.getBoundingClientRect();if(c||t(),!f||!m)return;const a=_e(p),g=_e(o.clientWidth-(l+f)),v=_e(o.clientHeight-(p+m)),E=_e(l),y={rootMargin:-a+"px "+-g+"px "+-v+"px "+-E+"px",threshold:Ae(0,Ke(1,u))||1};let M=!0;function k(x){const P=x[0].intersectionRatio;if(P!==u){if(!M)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}M=!1}try{n=new IntersectionObserver(k,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return s(!0),i}function fo(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=Kt(e),p=o||i?[...l?Oe(l):[],...Oe(t)]:[];p.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=l&&c?Or(l,n):null;let m=-1,a=null;s&&(a=new ResizeObserver(w=>{let[y]=w;y&&y.target===l&&a&&(a.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var M;(M=a)==null||M.observe(t)})),n()}),l&&!u&&a.observe(l),a.observe(t));let g,v=u?Se(e):null;u&&E();function E(){const w=Se(e);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,g=requestAnimationFrame(E)}return n(),()=>{var w;p.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=a)==null||w.disconnect(),a=null,u&&cancelAnimationFrame(g)}}const Cr=lr,Ir=ir,Pr=ur,kr=sr,Ut=rr,Mr=(e,t,n)=>{const r=new Map,o={platform:Tr,...n},i={...o.platform,_c:r};return nr(e,t,{...o,platform:i})};var rt=typeof document<"u"?d.useLayoutEffect:d.useEffect;function ut(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ut(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!ut(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Sn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gt(e,t){const n=Sn(e);return Math.round(t*n)/n}function Jt(e){const t=d.useRef(e);return rt(()=>{t.current=e}),t}function Ar(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:u,open:l}=e,[p,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,a]=d.useState(r);ut(m,r)||a(r);const[g,v]=d.useState(null),[E,w]=d.useState(null),y=d.useCallback(R=>{R!==P.current&&(P.current=R,v(R))},[]),M=d.useCallback(R=>{R!==_.current&&(_.current=R,w(R))},[]),k=i||g,x=s||E,P=d.useRef(null),_=d.useRef(null),V=d.useRef(p),L=u!=null,O=Jt(u),N=Jt(o),A=d.useCallback(()=>{if(!P.current||!_.current)return;const R={placement:t,strategy:n,middleware:m};N.current&&(R.platform=N.current),Mr(P.current,_.current,R).then(C=>{const K={...C,isPositioned:!0};T.current&&!ut(V.current,K)&&(V.current=K,bn.flushSync(()=>{f(K)}))})},[m,t,n,N]);rt(()=>{l===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[l]);const T=d.useRef(!1);rt(()=>(T.current=!0,()=>{T.current=!1}),[]),rt(()=>{if(k&&(P.current=k),x&&(_.current=x),k&&x){if(O.current)return O.current(k,x,A);A()}},[k,x,A,O,L]);const b=d.useMemo(()=>({reference:P,floating:_,setReference:y,setFloating:M}),[y,M]),h=d.useMemo(()=>({reference:k,floating:x}),[k,x]),I=d.useMemo(()=>{const R={position:n,left:0,top:0};if(!h.floating)return R;const C=Gt(h.floating,p.x),K=Gt(h.floating,p.y);return c?{...R,transform:"translate("+C+"px, "+K+"px)",...Sn(h.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:K}},[n,c,h.floating,p.x,p.y]);return d.useMemo(()=>({...p,update:A,refs:b,elements:h,floatingStyles:I}),[p,A,b,h,I])}const Lr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ut({element:r.current,padding:o}).fn(n):{}:r?Ut({element:r,padding:o}).fn(n):{}}}},mo=(e,t)=>({...Cr(e),options:[e,t]}),po=(e,t)=>({...Pr(e),options:[e,t]}),go=(e,t)=>({...kr(e),options:[e,t]}),ho=(e,t)=>({...Ir(e),options:[e,t]}),vo=(e,t)=>({...Lr(e),options:[e,t]});function bo(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Sr=vn.useInsertionEffect,Dr=Sr||(e=>e());function pe(e){const t=d.useRef(()=>{});return Dr(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Vt="ArrowUp",Ue="ArrowDown",We="ArrowLeft",$e="ArrowRight";function et(e,t,n){return Math.floor(e/t)!==n}function je(e,t){return t<0||t>=e.current.length}function yt(e,t){return ne(e,{disabledIndices:t})}function Qt(e,t){return ne(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ne(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current,c=o?l=>o.includes(l):l=>{const p=s[l];return p==null||p.hasAttribute("disabled")||p.getAttribute("aria-disabled")==="true"};let u=n;do u+=r?-i:i;while(u>=0&&u<=s.length-1&&c(u));return u}function Fr(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:s,minIndex:c,maxIndex:u,prevIndex:l,stopEvent:p=!1}=t,f=l;if(n.key===Vt){if(p&&ee(n),l===-1)f=u;else if(f=ne(e,{startingIndex:f,amount:i,decrement:!0,disabledIndices:s}),o&&(l-i<c||f<0)){const m=l%i,a=u%i,g=u-(a-m);a===m?f=u:f=a>m?g:g-i}je(e,f)&&(f=l)}if(n.key===Ue&&(p&&ee(n),l===-1?f=c:(f=ne(e,{startingIndex:l,amount:i,disabledIndices:s}),o&&l+i>u&&(f=ne(e,{startingIndex:l%i-i,amount:i,disabledIndices:s}))),je(e,f)&&(f=l)),r==="both"){const m=_e(l/i);n.key===$e&&(p&&ee(n),l%i!==i-1?(f=ne(e,{startingIndex:l,disabledIndices:s}),o&&et(f,i,m)&&(f=ne(e,{startingIndex:l-l%i-1,disabledIndices:s}))):o&&(f=ne(e,{startingIndex:l-l%i-1,disabledIndices:s})),et(f,i,m)&&(f=l)),n.key===We&&(p&&ee(n),l%i!==0?(f=ne(e,{startingIndex:l,disabledIndices:s,decrement:!0}),o&&et(f,i,m)&&(f=ne(e,{startingIndex:l+(i-l%i),decrement:!0,disabledIndices:s}))):o&&(f=ne(e,{startingIndex:l+(i-l%i),decrement:!0,disabledIndices:s})),et(f,i,m)&&(f=l));const a=_e(u/i)===m;je(e,f)&&(o&&a?f=n.key===We?u:ne(e,{startingIndex:l-l%i-1,disabledIndices:s}):f=l)}return f}function Nr(e,t,n){const r=[];let o=0;return e.forEach((i,s)=>{let{width:c,height:u}=i,l=!1;for(n&&(o=0);!l;){const p=[];for(let f=0;f<c;f++)for(let m=0;m<u;m++)p.push(o+f+m*t);o%t+c<=t&&p.every(f=>r[f]==null)?(p.forEach(f=>{r[f]=s}),l=!0):o++}}),[...r]}function _r(e,t,n,r,o){if(e===-1)return-1;const i=n.indexOf(e);switch(o){case"tl":return i;case"tr":return i+t[e].width-1;case"bl":return i+(t[e].height-1)*r;case"br":return n.lastIndexOf(e)}}function Br(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}let Zt=0;function ve(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Zt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Zt=requestAnimationFrame(i)}var q=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Kr(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Wr(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const Dn=d.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function yo(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[o,i]=d.useState(()=>new Map),s=d.useCallback(u=>{i(l=>new Map(l).set(u,null))},[]),c=d.useCallback(u=>{i(l=>{const p=new Map(l);return p.delete(u),p})},[]);return q(()=>{const u=new Map(o);Array.from(u.keys()).sort(Kr).forEach((p,f)=>{u.set(p,f)}),Wr(o,u)||i(u)},[o]),d.createElement(Dn.Provider,{value:d.useMemo(()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:r}),[s,c,o,n,r])},t)}function wo(e){let{label:t}=e===void 0?{}:e;const[n,r]=d.useState(null),o=d.useRef(null),{register:i,unregister:s,map:c,elementsRef:u,labelsRef:l}=d.useContext(Dn),p=d.useCallback(f=>{if(o.current=f,n!==null&&(u.current[n]=f,l)){var m;const a=t!==void 0;l.current[n]=a?t:(m=f==null?void 0:f.textContent)!=null?m:null}},[n,u,l,t]);return q(()=>{const f=o.current;if(f)return i(f),()=>{s(f)}},[i,s]),q(()=>{const f=o.current?c.get(o.current):null;f!=null&&r(f)},[c]),d.useMemo(()=>({ref:p,index:n??-1}),[n,p])}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}let wt=!1,Vr=0;const en=()=>"floating-ui-"+Vr++;function $r(){const[e,t]=d.useState(()=>wt?en():void 0);return q(()=>{e==null&&t(en())},[]),d.useEffect(()=>{wt||(wt=!0)},[]),e}const Hr=vn.useId,pt=Hr||$r;function jr(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const zr=d.createContext(null),qr=d.createContext(null),gt=()=>{var e;return((e=d.useContext(zr))==null?void 0:e.id)||null},Ge=()=>d.useContext(qr);function De(e){return"data-floating-ui-"+e}function he(e){const t=d.useRef(e);return q(()=>{t.current=e}),t}const tn=De("safe-polygon");function xt(e,t,n){return n&&!ot(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function xo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c},refs:u}=e,{enabled:l=!0,delay:p=0,handleClose:f=null,mouseOnly:m=!1,restMs:a=0,move:g=!0}=t,v=Ge(),E=gt(),w=he(f),y=he(p),M=d.useRef(),k=d.useRef(),x=d.useRef(),P=d.useRef(),_=d.useRef(!0),V=d.useRef(!1),L=d.useRef(()=>{}),O=d.useCallback(()=>{var b;const h=(b=o.current.openEvent)==null?void 0:b.type;return(h==null?void 0:h.includes("mouse"))&&h!=="mousedown"},[o]);d.useEffect(()=>{if(!l)return;function b(h){let{open:I}=h;I||(clearTimeout(k.current),clearTimeout(P.current),_.current=!0)}return i.on("openchange",b),()=>{i.off("openchange",b)}},[l,i]),d.useEffect(()=>{if(!l||!w.current||!n)return;function b(I){O()&&r(!1,I,"hover")}const h=oe(c).documentElement;return h.addEventListener("mouseleave",b),()=>{h.removeEventListener("mouseleave",b)}},[c,n,r,l,w,O]);const N=d.useCallback(function(b,h,I){h===void 0&&(h=!0),I===void 0&&(I="hover");const R=xt(y.current,"close",M.current);R&&!x.current?(clearTimeout(k.current),k.current=setTimeout(()=>r(!1,b,I),R)):h&&(clearTimeout(k.current),r(!1,b,I))},[y,r]),A=d.useCallback(()=>{L.current(),x.current=void 0},[]),T=d.useCallback(()=>{if(V.current){const b=oe(u.floating.current).body;b.style.pointerEvents="",b.removeAttribute(tn),V.current=!1}},[u]);return d.useEffect(()=>{if(!l)return;function b(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function h(C){if(clearTimeout(k.current),_.current=!1,m&&!ot(M.current)||a>0&&xt(y.current,"open")===0)return;const K=xt(y.current,"open",M.current);K?k.current=setTimeout(()=>{r(!0,C,"hover")},K):r(!0,C,"hover")}function I(C){if(b())return;L.current();const K=oe(c);if(clearTimeout(P.current),w.current){n||clearTimeout(k.current),x.current=w.current({...e,tree:v,x:C.clientX,y:C.clientY,onClose(){T(),A(),N(C,!0,"safe-polygon")}});const D=x.current;K.addEventListener("mousemove",D),L.current=()=>{K.removeEventListener("mousemove",D)};return}(M.current==="touch"?!Z(c,C.relatedTarget):!0)&&N(C)}function R(C){b()||w.current==null||w.current({...e,tree:v,x:C.clientX,y:C.clientY,onClose(){T(),A(),N(C)}})(C)}if(Y(s)){const C=s;return n&&C.addEventListener("mouseleave",R),c==null||c.addEventListener("mouseleave",R),g&&C.addEventListener("mousemove",h,{once:!0}),C.addEventListener("mouseenter",h),C.addEventListener("mouseleave",I),()=>{n&&C.removeEventListener("mouseleave",R),c==null||c.removeEventListener("mouseleave",R),g&&C.removeEventListener("mousemove",h),C.removeEventListener("mouseenter",h),C.removeEventListener("mouseleave",I)}}},[s,c,l,e,m,a,g,N,A,T,r,n,v,y,w,o]),q(()=>{var b;if(l&&n&&(b=w.current)!=null&&b.__options.blockPointerEvents&&O()){const I=oe(c).body;if(I.setAttribute(tn,""),I.style.pointerEvents="none",V.current=!0,Y(s)&&c){var h;const R=s,C=v==null||(h=v.nodesRef.current.find(K=>K.id===E))==null||(h=h.context)==null?void 0:h.elements.floating;return C&&(C.style.pointerEvents=""),R.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{R.style.pointerEvents="",c.style.pointerEvents=""}}}},[l,n,E,c,s,v,w,O]),q(()=>{n||(M.current=void 0,A(),T())},[n,A,T]),d.useEffect(()=>()=>{A(),clearTimeout(k.current),clearTimeout(P.current),T()},[l,s,A,T]),d.useMemo(()=>{if(!l)return{};function b(h){M.current=h.pointerType}return{reference:{onPointerDown:b,onPointerEnter:b,onMouseMove(h){n||a===0||(clearTimeout(P.current),P.current=setTimeout(()=>{_.current||r(!0,h.nativeEvent,"hover")},a))}},floating:{onMouseEnter(){clearTimeout(k.current)},onMouseLeave(h){N(h.nativeEvent,!1)}}}},[l,a,n,r,N])}function Yr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Le(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Xr(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),Le(e,i).forEach(u=>{o(u.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let Ne=new WeakMap,tt=new WeakSet,nt={},Et=0;const Ur=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Fn=e=>e&&(e.host||Fn(e.parentNode)),Gr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Fn(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Jr(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Gr(t,e),c=new Set,u=new Set(s),l=[];nt[o]||(nt[o]=new WeakMap);const p=nt[o];s.forEach(f),m(t),c.clear();function f(a){!a||c.has(a)||(c.add(a),a.parentNode&&f(a.parentNode))}function m(a){!a||u.has(a)||Array.prototype.forEach.call(a.children,g=>{if(c.has(g))m(g);else{const v=i?g.getAttribute(i):null,E=v!==null&&v!=="false",w=(Ne.get(g)||0)+1,y=(p.get(g)||0)+1;Ne.set(g,w),p.set(g,y),l.push(g),w===1&&E&&tt.add(g),y===1&&g.setAttribute(o,""),!E&&i&&g.setAttribute(i,"true")}})}return Et++,()=>{l.forEach(a=>{const g=(Ne.get(a)||0)-1,v=(p.get(a)||0)-1;Ne.set(a,g),p.set(a,v),g||(!tt.has(a)&&i&&a.removeAttribute(i),tt.delete(a)),v||a.removeAttribute(o)}),Et--,Et||(Ne=new WeakMap,Ne=new WeakMap,tt=new WeakSet,nt={})}}function nn(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=oe(e[0]).body;return Jr(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Ye=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Nn(e,t){const n=ft(e,Ye());t==="prev"&&n.reverse();const r=n.indexOf(me(oe(e)));return n.slice(r+1)[0]}function _n(){return Nn(document.body,"next")}function Bn(){return Nn(document.body,"prev")}function ze(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function Qr(e){ft(e,Ye()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Zr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const $t={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let eo;function rn(e){e.key==="Tab"&&(e.target,clearTimeout(eo))}const at=d.forwardRef(function(t,n){const[r,o]=d.useState();q(()=>(Dt()&&o("button"),document.addEventListener("keydown",rn),()=>{document.removeEventListener("keydown",rn)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[De("focus-guard")]:"",style:$t};return d.createElement("span",qe({},t,i))}),Kn=d.createContext(null),on=De("portal");function to(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=d.useState(null),i=pt(),s=Wn(),c=d.useRef(null);return q(()=>()=>{r==null||r.remove(),queueMicrotask(()=>{c.current=null})},[r]),q(()=>{if(c.current)return;const u=t?document.getElementById(t):null;if(!u)return;const l=document.createElement("div");l.id=i,l.setAttribute(on,""),u.appendChild(l),c.current=l,o(l)},[t,i]),q(()=>{if(c.current)return;let u=n||(s==null?void 0:s.portalNode);u&&!Y(u)&&(u=u.current),u=u||document.body;let l=null;t&&(l=document.createElement("div"),l.id=t,u.appendChild(l));const p=document.createElement("div");p.id=i,p.setAttribute(on,""),u=l||u,u.appendChild(p),c.current=p,o(p)},[t,n,i,s]),r}function Eo(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=to({id:n,root:r}),[s,c]=d.useState(null),u=d.useRef(null),l=d.useRef(null),p=d.useRef(null),f=d.useRef(null),m=!!s&&!s.modal&&s.open&&o&&!!(r||i);return d.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function a(g){i&&ze(g)&&(g.type==="focusin"?Zr:Qr)(i)}return i.addEventListener("focusin",a,!0),i.addEventListener("focusout",a,!0),()=>{i.removeEventListener("focusin",a,!0),i.removeEventListener("focusout",a,!0)}},[i,o,s==null?void 0:s.modal]),d.createElement(Kn.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:l,beforeInsideRef:p,afterInsideRef:f,portalNode:i,setFocusManagerState:c}),[o,i])},m&&i&&d.createElement(at,{"data-type":"outside",ref:u,onFocus:a=>{if(ze(a,i)){var g;(g=p.current)==null||g.focus()}else{const v=Bn()||(s==null?void 0:s.refs.domReference.current);v==null||v.focus()}}}),m&&i&&d.createElement("span",{"aria-owns":i.id,style:$t}),i&&bn.createPortal(t,i),m&&i&&d.createElement(at,{"data-type":"outside",ref:l,onFocus:a=>{if(ze(a,i)){var g;(g=f.current)==null||g.focus()}else{const v=_n()||(s==null?void 0:s.refs.domReference.current);v==null||v.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,a.nativeEvent))}}}))}const Wn=()=>d.useContext(Kn),sn=20;let Me=[];function Rt(e){Me=Me.filter(n=>n.isConnected);let t=e;if(!(!t||Fe(t)==="body")){if(!$n(t,Ye())){const n=ft(t,Ye())[0];if(!n)return;t=n}Me.push(t),Me.length>sn&&(Me=Me.slice(-sn))}}function cn(){return Me.slice().reverse().find(e=>e.isConnected)}const no=d.forwardRef(function(t,n){return d.createElement("button",qe({},t,{type:"button",ref:n,tabIndex:-1,style:$t}))});function Ro(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,modal:u=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:m,nodeId:a,onOpenChange:g,events:v,dataRef:E,elements:{domReference:w,floating:y}}=t,M=typeof s=="number"&&s<0,k=Tn(w)&&M,x=Ur()?i:!0,P=he(o),_=he(s),V=he(c),L=Ge(),O=Wn(),N=d.useRef(null),A=d.useRef(null),T=d.useRef(!1),b=d.useRef(!1),h=O!=null,I=d.useCallback(function(S){return S===void 0&&(S=y),S?ft(S,Ye()):[]},[y]),R=d.useCallback(S=>{const D=I(S);return P.current.map(F=>w&&F==="reference"?w:y&&F==="floating"?y:D).filter(Boolean).flat()},[w,y,P,I]);d.useEffect(()=>{if(r||!u)return;function S(F){if(F.key==="Tab"){Z(y,me(oe(y)))&&I().length===0&&!k&&ee(F);const W=R(),j=Te(F);P.current[0]==="reference"&&j===w&&(ee(F),F.shiftKey?ve(W[W.length-1]):ve(W[1])),P.current[1]==="floating"&&j===y&&F.shiftKey&&(ee(F),ve(W[0]))}}const D=oe(y);return D.addEventListener("keydown",S),()=>{D.removeEventListener("keydown",S)}},[r,w,y,u,P,k,I,R]),d.useEffect(()=>{if(r||!p)return;function S(){b.current=!0,setTimeout(()=>{b.current=!1})}function D(F){const W=F.relatedTarget;queueMicrotask(()=>{const j=!(Z(w,W)||Z(y,W)||Z(W,y)||Z(O==null?void 0:O.portalNode,W)||W!=null&&W.hasAttribute(De("focus-guard"))||L&&(Le(L.nodesRef.current,a).find(H=>{var G,J;return Z((G=H.context)==null?void 0:G.elements.floating,W)||Z((J=H.context)==null?void 0:J.elements.domReference,W)})||Yr(L.nodesRef.current,a).find(H=>{var G,J;return((G=H.context)==null?void 0:G.elements.floating)===W||((J=H.context)==null?void 0:J.elements.domReference)===W})));W&&j&&!b.current&&W!==cn()&&(T.current=!0,g(!1,F))})}if(y&&te(w))return w.addEventListener("focusout",D),w.addEventListener("pointerdown",S),!u&&y.addEventListener("focusout",D),()=>{w.removeEventListener("focusout",D),w.removeEventListener("pointerdown",S),!u&&y.removeEventListener("focusout",D)}},[r,w,y,u,a,L,O,g,p]),d.useEffect(()=>{var S;if(r)return;const D=Array.from((O==null||(S=O.portalNode)==null?void 0:S.querySelectorAll("["+De("portal")+"]"))||[]);if(y){const F=[y,...D,N.current,A.current,P.current.includes("reference")||k?w:null].filter(j=>j!=null),W=u||k?nn(F,x,!x):nn(F);return()=>{W()}}},[r,w,y,u,P,O,k,x]),q(()=>{if(r||!y)return;const S=oe(y),D=me(S);queueMicrotask(()=>{const F=R(y),W=_.current,j=(typeof W=="number"?F[W]:W.current)||y,H=Z(y,D);!M&&!H&&f&&ve(j,{preventScroll:j===y})})},[r,f,y,M,R,_]),q(()=>{if(r||!y)return;let S=!1;const D=oe(y),F=me(D),W=E.current;Rt(F);function j(H){let{reason:G,event:J,nested:z}=H;G==="escape-key"&&m.domReference.current&&Rt(m.domReference.current),G==="hover"&&J.type==="mouseleave"&&(T.current=!0),G==="outside-press"&&(z?(T.current=!1,S=!0):T.current=!(En(J)||St(J)))}return v.on("openchange",j),()=>{v.off("openchange",j);const H=me(D),G=Z(y,H)||L&&Le(L.nodesRef.current,a).some(X=>{var se;return Z((se=X.context)==null?void 0:se.elements.floating,H)});(G||W.openEvent&&["click","mousedown"].includes(W.openEvent.type))&&m.domReference.current&&Rt(m.domReference.current);const z=cn();V.current&&!T.current&&te(z)&&(!(z!==H&&H!==D.body)||G)&&ve(z,{cancelPrevious:!1,preventScroll:S})}},[r,y,V,E,m,v,L,a]),q(()=>{if(!(r||!O))return O.setFocusManagerState({modal:u,closeOnFocusOut:p,open:f,onOpenChange:g,refs:m}),()=>{O.setFocusManagerState(null)}},[r,O,u,f,g,m,p]),q(()=>{if(r||!y||typeof MutationObserver!="function"||M)return;const S=()=>{const F=y.getAttribute("tabindex");P.current.includes("floating")||me(oe(y))!==m.domReference.current&&I().length===0?F!=="0"&&y.setAttribute("tabindex","0"):F!=="-1"&&y.setAttribute("tabindex","-1")};S();const D=new MutationObserver(S);return D.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{D.disconnect()}},[r,y,m,P,I,M]);function C(S){return r||!l||!u?null:d.createElement(no,{ref:S==="start"?N:A,onClick:D=>g(!1,D.nativeEvent)},typeof l=="string"?l:"Dismiss")}const K=!r&&x&&(h||u);return d.createElement(d.Fragment,null,K&&d.createElement(at,{"data-type":"inside",ref:O==null?void 0:O.beforeInsideRef,onFocus:S=>{if(u){const F=R();ve(o[0]==="reference"?F[0]:F[F.length-1])}else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(T.current=!1,ze(S,O.portalNode)){const F=_n()||w;F==null||F.focus()}else{var D;(D=O.beforeOutsideRef.current)==null||D.focus()}}}),!k&&C("start"),n,C("end"),K&&d.createElement(at,{"data-type":"inside",ref:O==null?void 0:O.afterInsideRef,onFocus:S=>{if(u)ve(R()[0]);else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(p&&(T.current=!0),ze(S,O.portalNode)){const F=Bn()||w;F==null||F.focus()}else{var D;(D=O.afterOutsideRef.current)==null||D.focus()}}}))}const Tt=new Set,To=d.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;const i=pt();return q(()=>{if(!r)return;Tt.add(i);const s=/iP(hone|ad|od)|iOS/.test(Lt()),c=document.body.style,l=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",p=window.innerWidth-document.documentElement.clientWidth,f=c.left?parseFloat(c.left):window.pageXOffset,m=c.top?parseFloat(c.top):window.pageYOffset;if(c.overflow="hidden",p&&(c[l]=p+"px"),s){var a,g;const v=((a=window.visualViewport)==null?void 0:a.offsetLeft)||0,E=((g=window.visualViewport)==null?void 0:g.offsetTop)||0;Object.assign(c,{position:"fixed",top:-(m-Math.floor(E))+"px",left:-(f-Math.floor(v))+"px",right:"0"})}return()=>{Tt.delete(i),Tt.size===0&&(Object.assign(c,{overflow:"",[l]:""}),s&&(Object.assign(c,{position:"",top:"",left:"",right:""}),window.scrollTo(f,m)))}},[i,r]),d.createElement("div",qe({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function ln(e){return te(e.target)&&e.target.tagName==="BUTTON"}function un(e){return Ft(e)}function Oo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:u=!0,ignoreMouse:l=!1,keyboardHandlers:p=!0}=t,f=d.useRef(),m=d.useRef(!1);return d.useMemo(()=>s?{reference:{onPointerDown(a){f.current=a.pointerType},onMouseDown(a){a.button===0&&(ot(f.current,!0)&&l||c!=="click"&&(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,a.nativeEvent,"click"):(a.preventDefault(),r(!0,a.nativeEvent,"click"))))},onClick(a){if(c==="mousedown"&&f.current){f.current=void 0;return}ot(f.current,!0)&&l||(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,a.nativeEvent,"click"):r(!0,a.nativeEvent,"click"))},onKeyDown(a){f.current=void 0,!(a.defaultPrevented||!p||ln(a))&&(a.key===" "&&!un(i)&&(a.preventDefault(),m.current=!0),a.key==="Enter"&&r(!(n&&u),a.nativeEvent,"click"))},onKeyUp(a){a.defaultPrevented||!p||ln(a)||un(i)||a.key===" "&&m.current&&(m.current=!1,r(!(n&&u),a.nativeEvent,"click"))}}}:{},[s,o,c,l,p,i,u,n,r])}const ro={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},oo={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},an=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Co(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,nodeId:o,elements:{reference:i,domReference:s,floating:c},dataRef:u}=e,{enabled:l=!0,escapeKey:p=!0,outsidePress:f=!0,outsidePressEvent:m="pointerdown",referencePress:a=!1,referencePressEvent:g="pointerdown",ancestorScroll:v=!1,bubbles:E,capture:w}=t,y=Ge(),M=pe(typeof f=="function"?f:()=>!1),k=typeof f=="function"?M:f,x=d.useRef(!1),P=d.useRef(!1),{escapeKey:_,outsidePress:V}=an(E),{escapeKey:L,outsidePress:O}=an(w),N=pe(h=>{if(!n||!l||!p||h.key!=="Escape")return;const I=y?Le(y.nodesRef.current,o):[];if(!_&&(h.stopPropagation(),I.length>0)){let R=!0;if(I.forEach(C=>{var K;if((K=C.context)!=null&&K.open&&!C.context.dataRef.current.__escapeKeyBubbles){R=!1;return}}),!R)return}r(!1,qn(h)?h.nativeEvent:h,"escape-key")}),A=pe(h=>{var I;const R=()=>{var C;N(h),(C=Te(h))==null||C.removeEventListener("keydown",R)};(I=Te(h))==null||I.addEventListener("keydown",R)}),T=pe(h=>{const I=x.current;x.current=!1;const R=P.current;if(P.current=!1,m==="click"&&R||I||typeof k=="function"&&!k(h))return;const C=Te(h),K="["+De("inert")+"]",S=oe(c).querySelectorAll(K);let D=Y(C)?C:null;for(;D&&!Ce(D);){const j=be(D);if(Ce(j)||!Y(j))break;D=j}if(S.length&&Y(C)&&!Yn(C)&&!Z(C,c)&&Array.from(S).every(j=>!Z(D,j)))return;if(te(C)&&c){const j=C.clientWidth>0&&C.scrollWidth>C.clientWidth,H=C.clientHeight>0&&C.scrollHeight>C.clientHeight;let G=H&&h.offsetX>C.clientWidth;if(H&&ce(C).direction==="rtl"&&(G=h.offsetX<=C.offsetWidth-C.clientWidth),G||j&&h.offsetY>C.clientHeight)return}const F=y&&Le(y.nodesRef.current,o).some(j=>{var H;return vt(h,(H=j.context)==null?void 0:H.elements.floating)});if(vt(h,c)||vt(h,s)||F)return;const W=y?Le(y.nodesRef.current,o):[];if(W.length>0){let j=!0;if(W.forEach(H=>{var G;if((G=H.context)!=null&&G.open&&!H.context.dataRef.current.__outsidePressBubbles){j=!1;return}}),!j)return}r(!1,h,"outside-press")}),b=pe(h=>{var I;const R=()=>{var C;T(h),(C=Te(h))==null||C.removeEventListener(m,R)};(I=Te(h))==null||I.addEventListener(m,R)});return d.useEffect(()=>{if(!n||!l)return;u.current.__escapeKeyBubbles=_,u.current.__outsidePressBubbles=V;function h(C){r(!1,C,"ancestor-scroll")}const I=oe(c);p&&I.addEventListener("keydown",L?A:N,L),k&&I.addEventListener(m,O?b:T,O);let R=[];return v&&(Y(s)&&(R=Oe(s)),Y(c)&&(R=R.concat(Oe(c))),!Y(i)&&i&&i.contextElement&&(R=R.concat(Oe(i.contextElement)))),R=R.filter(C=>{var K;return C!==((K=I.defaultView)==null?void 0:K.visualViewport)}),R.forEach(C=>{C.addEventListener("scroll",h,{passive:!0})}),()=>{p&&I.removeEventListener("keydown",L?A:N,L),k&&I.removeEventListener(m,O?b:T,O),R.forEach(C=>{C.removeEventListener("scroll",h)})}},[u,c,s,i,p,k,m,n,r,v,l,_,V,N,L,A,T,O,b]),d.useEffect(()=>{x.current=!1},[k,m]),d.useMemo(()=>l?{reference:{onKeyDown:N,[ro[g]]:h=>{a&&r(!1,h.nativeEvent,"reference-press")}},floating:{onKeyDown:N,onMouseDown(){P.current=!0},onMouseUp(){P.current=!0},[oo[m]]:()=>{x.current=!0}}}:{},[l,a,m,g,r,N])}function Io(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=d.useState(null),c=((t=e.elements)==null?void 0:t.reference)||i,u=Ar(e),l=Ge(),p=gt()!=null,f=pe((x,P,_)=>{x&&(a.current.openEvent=P),g.emit("openchange",{open:x,event:P,reason:_,nested:p}),r==null||r(x,P,_)}),m=d.useRef(null),a=d.useRef({}),g=d.useState(()=>jr())[0],v=pt(),E=d.useCallback(x=>{const P=Y(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;u.refs.setReference(P)},[u.refs]),w=d.useCallback(x=>{(Y(x)||x===null)&&(m.current=x,s(x)),(Y(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!Y(x))&&u.refs.setReference(x)},[u.refs]),y=d.useMemo(()=>({...u.refs,setReference:w,setPositionReference:E,domReference:m}),[u.refs,w,E]),M=d.useMemo(()=>({...u.elements,domReference:c}),[u.elements,c]),k=d.useMemo(()=>({...u,refs:y,elements:M,dataRef:a,nodeId:o,floatingId:v,events:g,open:n,onOpenChange:f}),[u,o,v,g,n,f,y,M]);return q(()=>{const x=l==null?void 0:l.nodesRef.current.find(P=>P.id===o);x&&(x.context=k)}),d.useMemo(()=>({...u,context:k,refs:y,elements:M}),[u,y,M,k])}function Po(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,refs:i,elements:{domReference:s}}=e,{enabled:c=!0,visibleOnly:u=!0}=t,l=d.useRef(!1),p=d.useRef(),f=d.useRef(!0);return d.useEffect(()=>{if(!c)return;const m=ie(s);function a(){!n&&te(s)&&s===me(oe(s))&&(l.current=!0)}function g(){f.current=!0}return m.addEventListener("blur",a),m.addEventListener("keydown",g,!0),()=>{m.removeEventListener("blur",a),m.removeEventListener("keydown",g,!0)}},[s,n,c]),d.useEffect(()=>{if(!c)return;function m(a){let{reason:g}=a;(g==="reference-press"||g==="escape-key")&&(l.current=!0)}return o.on("openchange",m),()=>{o.off("openchange",m)}},[o,c]),d.useEffect(()=>()=>{clearTimeout(p.current)},[]),d.useMemo(()=>c?{reference:{onPointerDown(m){St(m.nativeEvent)||(f.current=!1)},onMouseLeave(){l.current=!1},onFocus(m){if(l.current)return;const a=Te(m.nativeEvent);if(u&&Y(a))try{if(Dt()&&Rn())throw Error();if(!a.matches(":focus-visible"))return}catch{if(!f.current&&!Ft(a))return}r(!0,m.nativeEvent,"focus")},onBlur(m){l.current=!1;const a=m.relatedTarget,g=Y(a)&&a.hasAttribute(De("focus-guard"))&&a.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{const v=me(s?s.ownerDocument:document);!a&&v===s||Z(i.floating.current,v)||Z(s,v)||g||r(!1,m.nativeEvent,"focus")})}}}:{},[c,u,s,i,r])}const fn="active",dn="selected";function Ot(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[fn]:s,[dn]:c,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(u=>{let[l,p]=u;if(!(o&&[fn,dn].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof p=="function"){var f;(f=r.get(l))==null||f.push(p),s[l]=function(){for(var m,a=arguments.length,g=new Array(a),v=0;v<a;v++)g[v]=arguments[v];return(m=r.get(l))==null?void 0:m.map(E=>E(...g)).find(E=>E!==void 0)}}}else s[l]=p}),s),{})}}function ko(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>Ot(i,e,"reference"),t),r=d.useCallback(i=>Ot(i,e,"floating"),t),o=d.useCallback(i=>Ot(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let mn=!1;function ht(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function pn(e,t){return ht(t,e===Vt||e===Ue,e===We||e===$e)}function Ct(e,t,n){return ht(t,e===Ue,n?e===We:e===$e)||e==="Enter"||e===" "||e===""}function io(e,t,n){return ht(t,n?e===We:e===$e,e===Ue)}function gn(e,t,n){return ht(t,n?e===$e:e===We,e===Vt)}function Mo(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:s}}=e,{listRef:c,activeIndex:u,onNavigate:l=()=>{},enabled:p=!0,selectedIndex:f=null,allowEscape:m=!1,loop:a=!1,nested:g=!1,rtl:v=!1,virtual:E=!1,focusItemOnOpen:w="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:M=!0,disabledIndices:k=void 0,orientation:x="vertical",cols:P=1,scrollItemIntoView:_=!0,virtualItemRef:V,itemSizes:L,dense:O=!1}=t,N=gt(),A=Ge(),T=pe(l),b=d.useRef(w),h=d.useRef(f??-1),I=d.useRef(null),R=d.useRef(!0),C=d.useRef(T),K=d.useRef(!!s),S=d.useRef(!1),D=d.useRef(!1),F=he(k),W=he(n),j=he(_),[H,G]=d.useState(),[J,z]=d.useState(),X=pe(function($,re,Q){Q===void 0&&(Q=!1);const U=$.current[re.current];U&&(E?(G(U.id),A==null||A.events.emit("virtualfocus",U),V&&(V.current=U)):ve(U,{preventScroll:!0,sync:Rn()&&Dt()?mn||S.current:!1}),requestAnimationFrame(()=>{const xe=j.current;xe&&U&&(Q||!R.current)&&(U.scrollIntoView==null||U.scrollIntoView(typeof xe=="boolean"?{block:"nearest",inline:"nearest"}:xe))}))});q(()=>{document.createElement("div").focus({get preventScroll(){return mn=!0,!1}})},[]),q(()=>{p&&(n&&s?b.current&&f!=null&&(D.current=!0,h.current=f,T(f)):K.current&&(h.current=-1,C.current(null)))},[p,n,s,f,T]),q(()=>{if(p&&n&&s)if(u==null){if(S.current=!1,f!=null)return;if(K.current&&(h.current=-1,X(c,h)),!K.current&&b.current&&(I.current!=null||b.current===!0&&I.current==null)){let $=0;const re=()=>{c.current[0]==null?($<2&&($?requestAnimationFrame:queueMicrotask)(re),$++):(h.current=I.current==null||Ct(I.current,x,v)||g?yt(c,F.current):Qt(c,F.current),I.current=null,T(h.current))};re()}}else je(c,u)||(h.current=u,X(c,h,D.current),D.current=!1)},[p,n,s,u,f,g,c,x,v,T,X,F]),q(()=>{var $;if(!p||s||!A||E||!K.current)return;const re=A.nodesRef.current,Q=($=re.find(Pe=>Pe.id===N))==null||($=$.context)==null?void 0:$.elements.floating,U=me(oe(s)),xe=re.some(Pe=>Pe.context&&Z(Pe.context.elements.floating,U));Q&&!xe&&R.current&&Q.focus({preventScroll:!0})},[p,s,A,N,E]),q(()=>{if(!p||!A||!E||N)return;function $(re){z(re.id),V&&(V.current=re)}return A.events.on("virtualfocus",$),()=>{A.events.off("virtualfocus",$)}},[p,A,E,N,V]),q(()=>{C.current=T,K.current=!!s}),q(()=>{n||(I.current=null)},[n]);const se=u!=null,ue=d.useMemo(()=>{function $(Q){if(!n)return;const U=c.current.indexOf(Q);U!==-1&&T(U)}return{onFocus(Q){let{currentTarget:U}=Q;$(U)},onClick:Q=>{let{currentTarget:U}=Q;return U.focus({preventScroll:!0})},...y&&{onMouseMove(Q){let{currentTarget:U}=Q;$(U)},onPointerLeave(Q){let{pointerType:U}=Q;!R.current||U==="touch"||(h.current=-1,X(c,h),T(null),E||ve(o.floating.current,{preventScroll:!0}))}}}},[n,o,X,y,c,T,E]);return d.useMemo(()=>{if(!p)return{};const $=F.current;function re(B){if(R.current=!1,S.current=!0,!W.current&&B.currentTarget===o.floating.current)return;if(g&&gn(B.key,x,v)){ee(B),r(!1,B.nativeEvent,"list-navigation"),te(i)&&!E&&i.focus();return}const le=h.current,ae=yt(c,$),Ee=Qt(c,$);if(B.key==="Home"&&(ee(B),h.current=ae,T(h.current)),B.key==="End"&&(ee(B),h.current=Ee,T(h.current)),P>1){const ke=L||Array.from({length:c.current.length},()=>({width:1,height:1})),Re=Nr(ke,P,O),Je=Re.findIndex(fe=>fe!=null&&!($!=null&&$.includes(fe))),Qe=Re.reduce((fe,He,de)=>He!=null&&!($!=null&&$.includes(He))?de:fe,-1);if(h.current=Re[Fr({current:Re.map(fe=>fe!=null?c.current[fe]:null)},{event:B,orientation:x,loop:a,cols:P,disabledIndices:Br([...$||[],void 0],Re),minIndex:Je,maxIndex:Qe,prevIndex:_r(h.current,ke,Re,P,B.key===Ue?"bl":B.key===$e?"tr":"tl"),stopEvent:!0})],T(h.current),x==="both")return}if(pn(B.key,x)){if(ee(B),n&&!E&&me(B.currentTarget.ownerDocument)===B.currentTarget){h.current=Ct(B.key,x,v)?ae:Ee,T(h.current);return}Ct(B.key,x,v)?a?h.current=le>=Ee?m&&le!==c.current.length?-1:ae:ne(c,{startingIndex:le,disabledIndices:$}):h.current=Math.min(Ee,ne(c,{startingIndex:le,disabledIndices:$})):a?h.current=le<=ae?m&&le!==-1?c.current.length:Ee:ne(c,{startingIndex:le,decrement:!0,disabledIndices:$}):h.current=Math.max(ae,ne(c,{startingIndex:le,decrement:!0,disabledIndices:$})),je(c,h.current)?T(null):T(h.current)}}function Q(B){w==="auto"&&En(B.nativeEvent)&&(b.current=!0)}function U(B){b.current=w,w==="auto"&&St(B.nativeEvent)&&(b.current=!0)}const xe=E&&n&&se&&{"aria-activedescendant":J||H},Pe=c.current.find(B=>(B==null?void 0:B.id)===H);return{reference:{...xe,onKeyDown(B){R.current=!1;const le=B.key.indexOf("Arrow")===0,ae=io(B.key,x,v),Ee=gn(B.key,x,v),ke=pn(B.key,x),Re=(g?ae:ke)||B.key==="Enter"||B.key.trim()==="";if(E&&n){const He=A==null?void 0:A.nodesRef.current.find(Ze=>Ze.parentId==null),de=A&&He?Xr(A.nodesRef.current,He.id):null;if(le&&de&&V){const Ze=new KeyboardEvent("keydown",{key:B.key,bubbles:!0});if(ae||Ee){var Je,Qe;const Vn=((Je=de.context)==null?void 0:Je.elements.domReference)===B.currentTarget,Ht=Ee&&!Vn?(Qe=de.context)==null?void 0:Qe.elements.domReference:ae?Pe:null;Ht&&(ee(B),Ht.dispatchEvent(Ze),z(void 0))}if(ke&&de.context&&de.context.open&&de.parentId&&B.currentTarget!==de.context.elements.domReference){var fe;ee(B),(fe=de.context.elements.domReference)==null||fe.dispatchEvent(Ze);return}}return re(B)}if(!(!n&&!M&&le)){if(Re&&(I.current=g&&ke?null:B.key),g){ae&&(ee(B),n?(h.current=yt(c,$),T(h.current)):r(!0,B.nativeEvent,"list-navigation"));return}ke&&(f!=null&&(h.current=f),ee(B),!n&&M?r(!0,B.nativeEvent,"list-navigation"):re(B),n&&T(h.current))}},onFocus(){n&&T(null)},onPointerDown:U,onMouseDown:Q,onClick:Q},floating:{"aria-orientation":x==="both"?void 0:x,...!Tn(i)&&xe,onKeyDown:re,onPointerMove(){R.current=!0}},item:ue}},[i,o,H,J,F,W,c,p,x,v,E,n,se,g,f,M,m,P,a,w,T,r,ue,A,V,L,O])}const so=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Ao(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=so.get(s))!=null?n:s,u=pt(),p=gt()!=null;return d.useMemo(()=>{if(!i)return{};const f={id:o,...c&&{role:c}};return c==="tooltip"||s==="label"?{reference:{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0},floating:f}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:u},...c==="menu"&&p&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},floating:{...f,...c==="menu"&&{"aria-labelledby":u}},item(m){let{active:a,selected:g}=m;const v={role:"option",...a&&{id:o+"-option"}};switch(s){case"select":return{...v,"aria-selected":a&&g};case"combobox":return{...v,...a&&{"aria-selected":!0}}}return{}}}},[i,s,c,r,o,u,p])}function Lo(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:u,enabled:l=!0,findMatch:p=null,resetMs:f=750,ignoreKeys:m=[],selectedIndex:a=null}=t,g=d.useRef(),v=d.useRef(""),E=d.useRef((n=a??s)!=null?n:-1),w=d.useRef(null),y=pe(c),M=pe(u),k=he(p),x=he(m);return q(()=>{r&&(clearTimeout(g.current),w.current=null,v.current="")},[r]),q(()=>{if(r&&v.current===""){var P;E.current=(P=a??s)!=null?P:-1}},[r,a,s]),d.useMemo(()=>{if(!l)return{};function P(L){L?o.current.typing||(o.current.typing=L,M(L)):o.current.typing&&(o.current.typing=L,M(L))}function _(L,O,N){const A=k.current?k.current(O,N):O.find(T=>(T==null?void 0:T.toLocaleLowerCase().indexOf(N.toLocaleLowerCase()))===0);return A?L.indexOf(A):-1}function V(L){const O=i.current;if(v.current.length>0&&v.current[0]!==" "&&(_(O,O,v.current)===-1?P(!1):L.key===" "&&ee(L)),O==null||x.current.includes(L.key)||L.key.length!==1||L.ctrlKey||L.metaKey||L.altKey)return;r&&L.key!==" "&&(ee(L),P(!0)),O.every(b=>{var h,I;return b?((h=b[0])==null?void 0:h.toLocaleLowerCase())!==((I=b[1])==null?void 0:I.toLocaleLowerCase()):!0})&&v.current===L.key&&(v.current="",E.current=w.current),v.current+=L.key,clearTimeout(g.current),g.current=setTimeout(()=>{v.current="",E.current=w.current,P(!1)},f);const A=E.current,T=_(O,[...O.slice((A||0)+1),...O.slice(0,(A||0)+1)],v.current);T!==-1?(y(T),w.current=T):L.key!==" "&&(v.current="",P(!1))}return{reference:{onKeyDown:V},floating:{onKeyDown:V,onKeyUp(L){L.key===" "&&P(!1)}}}},[l,r,o,i,f,x,k,y,M])}function hn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[u,l]=t[s]||[0,0],[p,f]=t[c]||[0,0];l>=r!=f>=r&&n<=(p-u)*(r-l)/(f-l)+u&&(o=!o)}return o}function co(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function So(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,u=performance.now();function l(f,m){const a=performance.now(),g=a-u;if(s===null||c===null||g===0)return s=f,c=m,u=a,null;const v=f-s,E=m-c,y=Math.sqrt(v*v+E*E)/g;return s=f,c=m,u=a,y}const p=f=>{let{x:m,y:a,placement:g,elements:v,onClose:E,nodeId:w,tree:y}=f;return function(k){function x(){clearTimeout(o),E()}if(clearTimeout(o),!v.domReference||!v.floating||g==null||m==null||a==null)return;const{clientX:P,clientY:_}=k,V=[P,_],L=Te(k),O=k.type==="mouseleave",N=Z(v.floating,L),A=Z(v.domReference,L),T=v.domReference.getBoundingClientRect(),b=v.floating.getBoundingClientRect(),h=g.split("-")[0],I=m>b.right-b.width/2,R=a>b.bottom-b.height/2,C=co(V,T),K=b.width>T.width,S=b.height>T.height,D=(K?T:b).left,F=(K?T:b).right,W=(S?T:b).top,j=(S?T:b).bottom;if(N&&(i=!0,!O))return;if(A&&(i=!1),A&&!O){i=!0;return}if(O&&Y(k.relatedTarget)&&Z(v.floating,k.relatedTarget)||y&&Le(y.nodesRef.current,w).some(J=>{let{context:z}=J;return z==null?void 0:z.open}))return;if(h==="top"&&a>=T.bottom-1||h==="bottom"&&a<=T.top+1||h==="left"&&m>=T.right-1||h==="right"&&m<=T.left+1)return x();let H=[];switch(h){case"top":H=[[D,T.top+1],[D,b.bottom-1],[F,b.bottom-1],[F,T.top+1]];break;case"bottom":H=[[D,b.top+1],[D,T.bottom-1],[F,T.bottom-1],[F,b.top+1]];break;case"left":H=[[b.right-1,j],[b.right-1,W],[T.left+1,W],[T.left+1,j]];break;case"right":H=[[T.right-1,j],[T.right-1,W],[b.left+1,W],[b.left+1,j]];break}function G(J){let[z,X]=J;switch(h){case"top":{const se=[K?z+t/2:I?z+t*4:z-t*4,X+t+1],ue=[K?z-t/2:I?z+t*4:z-t*4,X+t+1],$=[[b.left,I||K?b.bottom-t:b.top],[b.right,I?K?b.bottom-t:b.top:b.bottom-t]];return[se,ue,...$]}case"bottom":{const se=[K?z+t/2:I?z+t*4:z-t*4,X-t],ue=[K?z-t/2:I?z+t*4:z-t*4,X-t],$=[[b.left,I||K?b.top+t:b.bottom],[b.right,I?K?b.top+t:b.bottom:b.top+t]];return[se,ue,...$]}case"left":{const se=[z+t+1,S?X+t/2:R?X+t*4:X-t*4],ue=[z+t+1,S?X-t/2:R?X+t*4:X-t*4];return[...[[R||S?b.right-t:b.left,b.top],[R?S?b.right-t:b.left:b.right-t,b.bottom]],se,ue]}case"right":{const se=[z-t,S?X+t/2:R?X+t*4:X-t*4],ue=[z-t,S?X-t/2:R?X+t*4:X-t*4],$=[[R||S?b.left+t:b.right,b.top],[R?S?b.left+t:b.right:b.left+t,b.bottom]];return[se,ue,...$]}}}if(!hn([P,_],H)){if(i&&!C)return x();if(!O&&r){const J=l(k.clientX,k.clientY);if(J!==null&&J<.1)return x()}hn([P,_],G([m,a]))?!i&&r&&(o=window.setTimeout(x,40)):x()}}};return p.__options={blockPointerEvents:n},p}export{Ro as F,ho as a,vo as b,fo as c,ko as d,Oo as e,go as f,xo as g,So as h,Co as i,Ao as j,wo as k,bo as l,Mo as m,Lo as n,mo as o,yo as p,Eo as q,To as r,po as s,Po as t,Io as u};
//# sourceMappingURL=@floating-ui-CybHMkaK.js.map
